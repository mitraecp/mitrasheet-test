import{_ as L}from"./CollaboratorAvatar.vue.dd08577c.js";import{r as v,f as O,S as P,al as F,E as M,b as N,e as c,t as U,l as r,w as _,u as s,ax as R,s as y,v as g,o as T,a as D}from"./entry.102678be.js";import{r as C}from"./useFormRules.a113b67d.js";function G(){const i=v(!1),l=v([]),f=v("");function t(e,u){const m=new FileReader;m.addEventListener("load",()=>u(m.result)),m.readAsDataURL(e)}return{handleChange:e=>{if(e.file.status==="uploading"){i.value=!0;return}e.file.status==="done"&&e.file.originFileObj&&t(e.file.originFileObj,u=>{f.value=u,i.value=!1}),e.file.status==="error"&&(i.value=!1)},fileList:l,isJpgOrPng:e=>e==="image/jpeg"||e==="image/png",lessThan2MB:e=>e?e/1024/1024<2:!1,imgLoading:i,imageUrl:f}}const I={class:"home-content-area"},J={class:"flex h-full flex-col"},j={class:"pb-5 light-border-b"},k={class:"text-3xl font-medium text-grey-900 truncate"},q={class:"mt-6 light-border-all shadow-sm rounded-lg h-full bg-white"},A=O({__name:"user-settings",setup(i){const l=v({name:"",email:""}),f=P(),{loggedUser:t}=F(f),{fileList:p,handleChange:b,imageUrl:h,lessThan2MB:e,isJpgOrPng:u}=G();M(()=>{m()});const m=()=>{var o,a,n;t.value&&(h.value=(o=t.value.picture)!=null?o:"",l.value.name=(a=t.value.name)!=null?a:"",l.value.email=(n=t.value.email)!=null?n:"")},S=o=>{const a=u(o.type),n=e(o.size);return a||y("Os formatos v\xE1lidos s\xE3o JPGE e PNG."),n||y("A imagem deve ser menor que  2Mb"),a&&n};return(o,a)=>{const n=L,w=g("a-upload"),x=g("a-input"),E=g("a-form-item"),B=g("a-form");return T(),N("div",I,[c("div",J,[c("div",j,[c("span",k,U(o.$t("LOGGED.manage_account")),1)]),c("div",q,[r(w,{"file-list":s(p),"onUpdate:fileList":a[0]||(a[0]=d=>R(p)?p.value=d:null),name:"avatar",class:"relative","show-upload-list":!1,"before-upload":S,onChange:s(b)},{default:_(()=>[r(n,{"data-cy":"upload-image",class:"!h-[64px] !w-[64px]",src:s(h)},null,8,["src"])]),_:1},8,["file-list","onChange"]),r(B,{ref:"profileFormRef",model:s(l),name:"profile_form","hide-required-mark":"",layout:"vertical"},{default:_(()=>[r(E,{name:"name",label:"Nome",rules:[s(C)]},{default:_(()=>[r(x,{value:s(l).name,"onUpdate:value":a[1]||(a[1]=d=>s(l).name=d),placeholder:"Insira seu nome"},null,8,["value"])]),_:1},8,["rules"]),r(E,{name:"email",label:"Endere\xE7o de e-mail",rules:[s(C),{type:"email",message:"Esse n\xE3o parece ser um endere\xE7o de e-mail v\xE1lido."}]},{default:_(()=>[r(x,{value:s(l).email,"onUpdate:value":a[2]||(a[2]=d=>s(l).email=d),placeholder:"Insira seu email"},null,8,["value"])]),_:1},8,["rules"])]),_:1},8,["model"]),c("pre",null,U(s(t)),1)])])])}}});const H=D(A,[["__scopeId","data-v-8bb5b797"]]);export{H as default};

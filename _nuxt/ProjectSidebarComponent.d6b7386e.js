import{f as z,Y as N,al as M,r as B,H as S,b as i,e as o,l as d,u as t,t as h,C as v,J as T,k as P,M as I,aj as V,x as D,o as l,eq as F,er as R,av as H,c as J,by as Y,w as y,aW as K,es as Q,y as U,z as X,cz as Z,a as ee}from"./entry.102678be.js";import oe from"./SquaredBadge.8fadbfe8.js";import te from"./LargeButton.6c6b9129.js";import se from"./WorkspaceBarLoading.31956127.js";import{e as ae}from"./useGoToScreen.2d5a4740.js";import{s as ne}from"./simple_grid_grey.66d15878.js";import{G as re}from"./global_constants.3e2bf4d4.js";/* empty css                                    */import"./useMappedIcons.1032e4dc.js";/* empty css                         */import"./legacy_store.afec42ea.js";import"./useLegacyService.c9b3bbf8.js";import"./useHeadSettings.f1985dcc.js";import"./composables.aec528df.js";import"./useURLPaths.92126496.js";const m=n=>(U("data-v-eea3b2ea"),n=n(),X(),n),ce={class:"flex flex-col home-sidebar-left"},le={key:0,class:"overflow-hidden"},ie={class:"sidebar-wrapper !p-0"},de={class:"hidden"},pe={class:"quickly-access"},me=m(()=>o("span",null,"Recentes",-1)),ue={class:"quickly-access"},_e=m(()=>o("span",null,"Templates",-1)),fe={class:"quickly-access"},he=m(()=>o("span",null,"Lixeira",-1)),ve={class:"flex flex-col h-full"},ge={class:"group-header"},ye={class:"font-semibold text-grey-900"},ke={class:"text-grey-600 truncate"},we={class:"px-6 hidden"},je=m(()=>o("div",{class:"group-header !px-0"},[o("h4",{class:"font-semibold text-grey-900"},"Favoritos")],-1)),xe={class:"overflow-auto max-h-[200px] shortHeight:max-h-[80px]"},be={class:"flex items-center"},Le=m(()=>o("img",{src:ne,class:"mr-3"},null,-1)),Ce={class:"text-grey-600"},Be={key:1,class:"content-wrapper py-10 my-4 px-8"},Se=z({__name:"ProjectSidebarComponent",props:{loading:{type:Boolean,required:!1,default:!1},openingProject:{type:Boolean,required:!1,default:!1},selectedWorkspace:{type:Object,required:!0},readonly:{type:Boolean,required:!1,default:!1}},emits:["select-project"],setup(n,{emit:k}){const w=n,u=N(),{selectedProject:$,selectedWorkspace:O}=M(u),_=B(!1),g=B(-1),p=S(()=>{var e;return(e=w.selectedWorkspace)==null?void 0:e.projects}),j=S(()=>{var e;return(e=p.value)==null?void 0:e.filter(s=>s.favorite)});async function q(e){await u.setSelectedProject(e),ae(O.value.id,e.id),k("select-project",{project:e})}async function W(){_.value=!0;const e=await u.saveProject({name:V.global.t("GLOBAL.new_project"),workspaceId:w.selectedWorkspace.id});if(_.value=!1,!e)throw new Error("N\xE3o foi poss\xEDvel abrir o projeto");await u.setSelectedProject(e),k("select-project",{project:e,openEditProject:!0})}const G=e=>{var c,f;const s={color:(f=(c=e==null?void 0:e.projectConfig)==null?void 0:c.color)!=null?f:"#7839EE"};return e.projectConfig.icon===re.INITIALS?s.label=Z().getInitals(e.name):s.icon=e.projectConfig.icon,s};return(e,s)=>{var x,b;const c=D,f=oe,A=te,E=se;return l(),i("div",ce,[n.loading?(l(),i("div",Be,[d(E)])):(l(),i("div",le,[o("div",ie,[o("div",de,[o("div",pe,[d(c,{class:"mr-2",type:"mdi",color:"var(--grey-400)",path:t(F)},null,8,["path"]),me]),o("div",ue,[d(c,{class:"mr-2",type:"mdi",color:"var(--grey-400)",path:t(R)},null,8,["path"]),_e]),o("div",fe,[d(c,{class:"mr-2",type:"mdi",color:"var(--grey-400)",path:t(H)},null,8,["path"]),he])])]),o("div",ve,[o("div",ge,[o("h4",ye,h(e.$t("GLOBAL.projects")),1),!n.readonly||!n.readonly&&((x=t(p))==null?void 0:x.length)===0?(l(),i("h6",{key:0,class:v(["text-grey-500 font-medium cursor-pointer",{"!cursor-wait":t(_)}]),onClick:s[0]||(s[0]=a=>!t(_)&&W())}," + "+h(e.$t("GLOBAL.new_project")),3)):T("",!0)]),o("div",{class:v(["project-list__wrapper",{"!pr-6":((b=t(p))==null?void 0:b.length)<=3}])},[(l(!0),i(P,null,I([...t(p)].reverse(),(a,r)=>{var L;return l(),J(A,{key:`project-${r}`,class:v(["my-4",{"!mt-0":r===0,"!mb-0":r===((L=t(p))==null?void 0:L.length)-1,"!bg-grey-25 !medium-border-all":a.id===t($).id}]),title:["novo projeto","new project"].includes(a.name.toLowerCase())?e.$t("GLOBAL.new_project"):a.name,loading:n.openingProject,onClick:C=>q(a),onMouseenter:C=>g.value=r,onMouseleave:s[1]||(s[1]=C=>g.value=-1)},Y({badge:y(()=>[d(f,{content:G({...a})},null,8,["content"])]),body:y(()=>[o("h6",ke,h(["novo projeto","new project"].includes(a.name.toLowerCase())?e.$t("GLOBAL.new_project"):a.name),1)]),_:2},[t(g)===r?{name:"suffix",fn:y(()=>[d(c,{size:"18px",type:"mdi",color:"var(--grey-600)",path:t(K)},null,8,["path"])]),key:"0"}:void 0]),1032,["class","title","loading","onClick","onMouseenter"])}),128))],2)]),o("div",we,[je,o("div",xe,[(l(!0),i(P,null,I(t(j),(a,r)=>(l(),i("div",{key:`project-favorited-${r}`,class:v(["project-favorited",{"!mt-0":r===0,"!mb-0":r===t(j).length-1}])},[o("div",be,[Le,o("span",Ce,h(a.name),1)]),d(c,{type:"mdi",size:"16",color:"var(--warning-250)",path:t(Q)},null,8,["path"])],2))),128))])])]))])}}}),Fe=ee(Se,[["__scopeId","data-v-eea3b2ea"]]);export{Fe as default};

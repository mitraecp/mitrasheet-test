import{f as k,aX as B,al as $,r as O,H as I,v as P,o as m,b as u,e,t as a,l as c,u as n,ax as T,k as y,M as A,C as D,ag as M,J as N,ay as R,ab as x,s as z,x as G,y as E,z as F,a as J}from"./entry.102678be.js";import V from"./MitraButton.1bc6f00c.js";import{u as j}from"./legacy_store.afec42ea.js";import{_ as U}from"./layout_violet.70afa0aa.js";import{_ as H}from"./folder_open_black.966f6325.js";import"./HeaderBar.vue.02da9777.js";import"./useLegacyService.c9b3bbf8.js";import"./useHeadSettings.f1985dcc.js";import"./composables.aec528df.js";const w=r=>(E("data-v-d717a987"),r=r(),F(),r),X=w(()=>e("div",{class:"h-[48px] w-[48px] bg-violet-100 rounded-xl flex items-center justify-center"},[e("div",{class:"h-[20px] w-[20px] flex items-center"},[e("img",{src:U,style:{width:"100%",height:"100%"}})])],-1)),q={class:"mt-4 text-lg font-medium text-error-150"},K={class:"mt-4 text-sm font-medium text-grey-700"},Q={class:"pt-1.5"},W={class:"pt-4 text-sm font-medium text-grey-700"},Y={class:"pt-2"},Z={class:"container select-none"},ee=["onClick"],te=w(()=>e("div",{class:"flex items-center mr-[13.33px] ml-[17.33px]"},[e("div",{class:"h-[10.67px] w-[13.33px] flex items-center"},[e("img",{src:H,style:{width:"100%",height:"100%"}})])],-1)),se={class:"truncate text-sm font-normal text-grey-700"},oe={key:0,class:"flex items-center ml-auto mr-[15px]"},ne={class:"flex items-center justify-center"},le={class:"flex items-center text-sm font-medium text-violet-600 pl-3"},ie={class:"flex pt-6 space-x-3"},ae=k({__name:"AddScreenLegacy",setup(r){const p=B(),_=j();_.fetchModules();const{moduleList:C,selectedModule:h}=$(_),l=O(""),s=I(()=>{var t;return(t=h.value)==null?void 0:t.id});function S(){p.switchDialog("addScreenController",!1)}function b(){s.value&&l.value&&_.saveScreen({moduleId:s.value,name:l.value}).then(t=>{if(x().fullPath.includes("/m/")){const i=x().fullPath,v="/m/",d=i.split(v)[0];window.open(d+"/m/"+s.value+"?screenId="+t.id)}else window.open(x().fullPath+"/m/"+s.value+"?screenId="+t.id);p.switchDialog("addScreenController",!1)}),s.value||z("TOAST.select_module")}function L(){p.switchDialog("newFolderModelController",!0)}return(t,i)=>{const v=P("a-input"),f=G,d=V;return m(),u(y,null,[X,e("div",q,a(t.$t("PROJECT.new_screen")),1),e("div",K,a(t.$t("GLOBAL.name")),1),e("div",Q,[c(v,{value:n(l),"onUpdate:value":i[0]||(i[0]=o=>T(l)?l.value=o:null),type:"text",placeholder:t.$t("GLOBAL.insert"),class:"input-class py-1.5"},null,8,["value","placeholder"])]),e("div",W,a(t.$t("PROJECT.where_create_screen")),1),e("div",Y,[e("div",Z,[(m(!0),u(y,null,A(n(C),o=>{var g;return m(),u("div",{key:o.id,class:D(["folder-element mt-1",{active:n(s)===o.id}]),onClick:ce=>s.value=o.id},[te,e("div",se,a(o.name),1),((g=n(h))==null?void 0:g.id)===o.id?(m(),u("div",oe,[c(f,{size:"15",color:"#a48afb",type:"mdi",path:n(M)},null,8,["path"])])):N("",!0)],10,ee)}),128)),e("div",{class:"flex items-center pl-3.5 folder-element mb-1 cursor-pointer",onClick:i[1]||(i[1]=o=>L())},[e("div",ne,[c(f,{size:"18px",type:"mdi",color:"var(--violet-600)",path:n(R)},null,8,["path"])]),e("div",le,a(t.$t("GLOBAL.folder")),1)])])]),e("div",ie,[c(d,{text:t.$t("BUTTONS.cancel"),color:"var(--violet-600)","fit-to-content":"",outlined:"","text-color":"var(--violet-600)",class:"flex-1 pr-2",onClick:S},null,8,["text"]),c(d,{disabled:!(n(l)!==""&&n(s)!==void 0),"data-cy":"btn-submit",text:t.$t("GLOBAL.actions.create"),color:"var(--violet-600)",class:"flex-1 pl-2",onClick:b},null,8,["disabled","text"])])],64)}}}),he=J(ae,[["__scopeId","data-v-d717a987"]]);export{he as default};

import{aa as n,Y as i,ab as d,Q as o}from"./entry.102678be.js";const c=n("MetadataStore",{state:()=>({metadataList:{}}),actions:{fetchMetadata(){this.metadataList={}},addOnMetadataList(e){const t=this.metadataList[i().selectedProject.id];if(t){const s=t.list.findIndex(a=>a.id===e.id&&a.isDimension===e.isDimension);s>=0?t.index=s:(t.list.push(e),t.index=t.list.length-1)}else this.metadataList[i().selectedProject.id]={list:[e],index:0};this.changeQuery(e)},deleteTable(e){this.metadataList[i().selectedProject.id].list.splice(e,1)},changeIndex(e){const t=this.metadataList[i().selectedProject.id];t.index=e,this.changeQuery(t.list[e])},changeQuery(e){const t=d().query,s={};e&&(e.isDimension?(delete t.openDataset,s.openDimension=e.id):(delete t.openDimension,s.openDataset=e.id),o().push({path:d().fullPath,query:{...t,...s}}))}},getters:{activeMetadataList(){var e;return((e=this.metadataList[i().selectedProject.id])==null?void 0:e.list)||[]},activeIndex(){var e;return((e=this.metadataList[i().selectedProject.id])==null?void 0:e.index)||0}},persist:{key:"metadata-store",storage:localStorage,paths:["metadataList"]}});export{c as u};

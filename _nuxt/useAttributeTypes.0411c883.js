import{al as d,Y as u,r as T,H as c,j as p,h as y,i}from"./entry.102678be.js";import{u as b}from"./useDataTypeIcons.d26d6eae.js";function D(t){const{screenOpened:e}=d(u()),r=T(!1),o=c(()=>{var s;return!((s=t==null?void 0:t.dimension)!=null&&s.isNative)}),a=c(()=>!u().readonlyProject&&!e.value);return{enableAddRow:o,enableAddCol:a,linkRecordSaving:r}}function h(){const{merge:t}=p(),e=b(),r=n=>!t||["SingleLineText","Date","LinkDimension","SingleChoice","Number"].includes(n.dimensionAttributeType),o=c(()=>[{name:i().$translate("DATABASE.dimension_type.numeric"),dimensionAttributeType:"Number",icon:e.Number},{name:i().$translate("DATABASE.dimension_type.text"),dimensionAttributeType:"SingleLineText",icon:e.SingleLineText},{name:"CheckBox",dimensionAttributeType:"Checkbox",icon:e.Checkbox},{name:i().$translate("DATABASE.dimension_type.date"),dimensionAttributeType:"Date",icon:e.Date},{name:i().$translate("DATABASE.dimension_type.single_selector"),dimensionAttributeType:"SingleChoice",icon:e.SingleChoice,options:[]},{name:i().$translate("DATABASE.dimension_type.multi_selector"),dimensionAttributeType:"MultiChoice",icon:e.MultiChoice,options:[]},{name:i().$translate("DATABASE.dimension_type.connect_another_record"),icon:e.SingleLinkDimension,dimensionAttributeType:"LinkDimension"},{name:i().$translate("USERS.user_upper_case"),icon:e.SingleLinkToUser,dimensionAttributeType:"LinkToUser"},{name:i().$translate("DATABASE.dimension_type.corporative_security"),icon:e.SecuritySingleLink,dimensionAttributeType:"SecuritySingleLink"}].filter(r)),a=n=>["Checkbox","Date","Text","SingleChoice","Number"].filter(A=>!t||!["Checkbox","SingleChoice"].includes(A)).includes(n.dimensionAttributeType),s=y([...o.value.filter(a),{name:i().$translate("DATABASE.dimension_type.text"),icon:e.SingleLineText,dimensionAttributeType:"Text"}]),l=s.map(n=>({label:n.name,value:n.dimensionAttributeType,icon:n.icon})),m=o.value.map(n=>({label:n.name,value:n.dimensionAttributeType,icon:n.icon}));return{dimensionTypeList:o,dimensionTypeListAsOptions:m,datasetMetricTypeList:s,metricTypeListAsOptions:l}}export{h as a,D as u};

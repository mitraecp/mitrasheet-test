import D from"./SquaredBadge.8fadbfe8.js";import P from"./ProjectSettings.24d1af27.js";import F from"./MitraButton.1bc6f00c.js";import H from"./ProjectNewItemModal.a1a581a1.js";import{f as V,aX as _,al as w,r as A,H as E,v as G,o as i,b as m,e as s,u as n,l as d,t as S,J as g,w as b,ax as C,ay as O,c as T,cz as U,y as z,z as R,a as J}from"./entry.102678be.js";import{u as X}from"./legacy_store.afec42ea.js";import{u as K}from"./useHeadSettings.f1985dcc.js";import{_ as Q}from"./folder_open_blue.ee63f467.js";import{G as W}from"./global_constants.3e2bf4d4.js";import"./ProjectView.vue.c9650a78.js";import"./useMappedIcons.1032e4dc.js";/* empty css                         */import"./MitraIconButton.142ef623.js";import"./useFormRules.a113b67d.js";import"./folder_open_black.966f6325.js";import"./layout_black.3b56b7e5.js";import"./useLegacyService.c9b3bbf8.js";import"./composables.aec528df.js";/* empty css                    *//* empty css                             */import"./HeaderBar.vue.02da9777.js";import"./members_store.a95d955a.js";import"./dimension_store.1aca34b5.js";import"./dataset_store.f318df7c.js";import"./metadata_store.49c5a48c.js";/* empty css                                    *//* empty css                           */import"./useChartsSettings.971a22bb.js";/* empty css                         *//* empty css                            *//* empty css                             */import"./regexp.6086e722.js";/* empty css                        *//* empty css                        */const Y=t=>(z("data-v-7050454d"),t=t(),R(),t),Z={class:"header"},ee={class:"flex items-center max-w-[50vw] truncate"},te={key:0,class:"bg-grey-100 h-[40px] w-[40px] rounded-md flex items-center justify-center mr-3"},oe=Y(()=>s("div",{class:"h-[13.33px] w-[16.67px] flex items-center"},[s("img",{src:Q,style:{width:"100%",height:"100%"}})],-1)),ne=[oe],re={key:1},se={class:"flex flex-col items-start"},ie={class:"flex items-center justify-center"},le=["title"],ae={key:0,class:"flex items-center"},ce={class:"flex items-center justify-center"},pe={class:"mt-8"},me=V({__name:"LegacyHeader",props:{loading:{type:Boolean,required:!1,default:!1},openingProject:{type:Boolean,required:!1,default:!1},project:{type:Object,required:!0},readonly:{type:Boolean,required:!1,default:!1}},emits:["update","delete-project"],setup(t,{emit:k}){const l=t,B=_(),j=X(),{selectedModule:a}=w(j),{projectSettingsController:u}=w(B),r=A(!1),M=E(()=>{var e,f,v;const c={color:(v=(f=(e=l.project)==null?void 0:e.projectConfig)==null?void 0:f.color)!=null?v:"#7839EE"};return l.project.projectConfig.icon===W.INITIALS?c.label=U().getInitals(l.project.name):c.icon=l.project.projectConfig.icon,c});function h(){r.value=!1,_().switchDialog("newFolderModelController",!0)}function I(){r.value=!1,_().switchDialog("addScreenController",!0)}function $(){r.value=!1,_().switchDialog("newMobileModelController",!0)}function N(){j.setSelectedModule(null),K().setHeadTitle(l.project.name)}return(c,e)=>{const f=D,v=P,x=G("a-popover"),L=F,q=H;return i(),m("div",Z,[s("div",ee,[n(a)?(i(),m("div",te,ne)):(i(),m("div",re,[d(f,{content:n(M)},null,8,["content"])])),s("div",se,[n(a)?(i(),m("span",{key:0,class:"module-button",onClick:N},S(t.project.name),1)):g("",!0),s("div",ie,[s("div",{title:t.project.name,class:"text-xl font-medium text-grey-900 truncate"},S(n(a)?n(a).name:t.project.name),9,le),d(x,{visible:n(u),"onUpdate:visible":e[2]||(e[2]=o=>C(u)?u.value=o:null),"overlay-class-name":"project-settings-popover mitra-popover-wrapper",trigger:"click","destroy-popup-on-hide":"",class:"cursor-pointer",placement:"bottom"},{content:b(()=>{var o,p;return[d(v,{"project-info":{color:(o=t.project.projectConfig)==null?void 0:o.color,icon:(p=t.project.projectConfig)==null?void 0:p.icon,name:t.project.name},onClose:e[0]||(e[0]=y=>u.value=!1),onUpdate:e[1]||(e[1]=y=>k("update",y))},null,8,["project-info"])]}),_:1},8,["visible"])])])]),t.readonly?g("",!0):(i(),m("div",ae,[s("div",ce,[d(L,{text:c.$t("GLOBAL.new"),color:"var(--violet-600)",icon:n(O),"icon-class":"clean-svg","fit-to-content":"",class:"ml-2",onClick:e[3]||(e[3]=o=>r.value=!0)},null,8,["text","icon"]),s("div",pe,[n(r)?(i(),T(x,{key:0,visible:n(r),"onUpdate:visible":e[7]||(e[7]=o=>C(r)?r.value=o:null),trigger:"click","overlay-class-name":"new-menu-popover pr-8 ",placement:"bottom","destroy-tooltip-on-hide":"",onVisibleChange:e[8]||(e[8]=o=>r.value=!1)},{content:b(()=>{var o;return[d(q,{"selected-module":((o=n(a))==null?void 0:o.id)!==void 0,onNewFolder:e[4]||(e[4]=p=>h()),onNewScreen:e[5]||(e[5]=p=>I()),onNewMobile:e[6]||(e[6]=p=>$())},null,8,["selected-module"])]}),_:1},8,["visible"])):g("",!0)])])]))])}}}),Re=J(me,[["__scopeId","data-v-7050454d"]]);export{Re as default};

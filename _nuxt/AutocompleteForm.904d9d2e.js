import{_ as S}from"./MButton.vue.eb72e6c7.js";/* empty css                    */import{r as V}from"./useFormRules.a113b67d.js";import{f as k,r as C,v as r,aF as F,o as c,c as x,w as u,u as o,m as p,t as i,N,l as m,J as y,e as d,b as q,a as D}from"./entry.102678be.js";/* empty css                             */const O={class:"flex"},A={class:"overflow-hidden truncate pt-1"},L={key:0,role:"img",class:"rounded-full bg-grey-100 ml-1 py-1 px-2"},R=k({__name:"AutocompleteForm",props:{listOptions:{type:Array,required:!0},submitBtnText:{type:String,default:"Concluir"},showTextInput:{type:Boolean,default:!0},initialTextValue:{type:String,default:""},autocompleteValue:{type:[Number,String],default:void 0},textInputTitle:{type:String,default:"Titulo"},textInputRequired:{type:Boolean,default:!0},autocompleteInputTitle:{type:String,default:"Dado"},autoFill:{type:Boolean,default:!1},loading:{type:Boolean,default:!1}},emits:["save"],setup(l,{emit:b}){const a=l,e=C({name:a.initialTextValue,autocomplete:a.autocompleteValue}),f=()=>{var n;a.autoFill&&!e.value.name&&(e.value.name=((n=a.listOptions.find(t=>t.value===e.value.autocomplete))==null?void 0:n.label)||""),e.value.name=e.value.name.trim(),b("save",e.value)},g=(n,t)=>t.label.toLowerCase().includes(n.toLowerCase());return(n,t)=>{const h=r("a-input"),_=r("a-form-item"),w=r("a-select"),T=S,B=r("a-form"),I=F("focus");return c(),x(B,{model:o(e),autocomplete:"off",class:"flex flex-col h-50",layout:"inline",onFinish:f},{default:u(()=>[a.showTextInput?(c(),x(_,{key:0,"has-feedback":"",name:"name",rules:[l.textInputRequired?o(V):[]],class:"!flex-auto max-w-[96%]"},{default:u(()=>[p(i(a.textInputTitle)+" ",1),N(m(h,{ref:"input",value:o(e).name,"onUpdate:value":t[0]||(t[0]=s=>o(e).name=s),"data-cy":"input-name",class:"mr-4","press-enter":f},null,8,["value"]),[[I]])]),_:1},8,["rules"])):y("",!0),m(_,{"has-feedback":"",name:"autocomplete",rules:[{required:!0,message:"Selecione um item"}],class:"!flex-auto max-w-[96%]"},{default:u(()=>[p(i(a.autocompleteInputTitle)+" ",1),m(w,{value:o(e).autocomplete,"onUpdate:value":t[1]||(t[1]=s=>o(e).autocomplete=s),options:l.listOptions,class:"w-full",placeholder:"selecione","show-search":"","option-filter-prop":"children","filter-option":g},{option:u(({label:s,type:v})=>[d("div",O,[d("div",A,[d("span",null,i(s),1)]),v?(c(),q("span",L,i(v),1)):y("",!0)])]),_:1},8,["value","options"])]),_:1}),m(T,{"data-cy":"btn-submit",class:"mt-4 w-[150px] capitalize ml-auto","html-type":"submit",loading:l.loading},{default:u(()=>[p(i(l.submitBtnText),1)]),_:1},8,["loading"])]),_:1},8,["model"])}}}),$=D(R,[["__scopeId","data-v-c77bba65"]]);export{$ as default};
